# OLDFLIX

API para gestão de alugueis de filmes

## Funcionalidades

- Listar filmes: `GET /filmes`
- Incluir novo filme: `POST /filmes`
- Alugar filme: `PUT /filmes/{id}/alugar`
- Devolver filme: `PUT /filmes/{id}/devolver`
- Detalhes do filme: `GET /filmes/{id}`
- Remover filme: `DELETE /filmes/{id}`
- Editar filme: `PUT /filmes/{id}`

## Dados

### Schema

```sql
DROP TABLE IF EXISTS filme CASCADE;
CREATE TABLE filme (
   id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
   titulo VARCHAR(100) NOT NULL,
   descricao TEXT NOT NULL,
	disponivel boolean default true,
	categoria VARCHAR(10) NOT NULL,
	responsavel VARCHAR(100),
	data_retirada DATE,
	url TEXT,
	ano int NOT NULL,
	duracao int NOT NULL,
   CONSTRAINT pk_filme PRIMARY KEY (id),
	CONSTRAINT ck_filme_categoria CHECK (categoria IN ('OURO', 'PRATA', 'BRONZE'))
);
```

### Inserts

```sql
INSERT INTO filme (titulo, descricao, categoria, url, ano, duracao)
VALUES
('Sword Art Online: Progressive - Ária de Uma Noite Sem Estrelas', 'A estudante do ensino médio Asuna luta para sobreviver com um jovem espadachim depois que é revelado que ela está presa dentro do jogo Sword Art Online, onde se seu HP cair a zero, seu cérebro será destruído na vida real.', 'PRATA', 'https://m.media-amazon.com/images/M/MV5BMTVlNzM0YjktNjdmNS00MmZmLTk4MjgtOWUyNTQ2MjFiNmU5XkEyXkFqcGdeQXVyODMyNTM0MjM@._V1_FMjpg_UX1000_.jpg', 2021, 97),
('Your Name', 'Dois estranhos estão ligados de uma maneira bizarra, mais quando uma conexão é formada, a distância será a única coisa que os manterá separados?', 'PRATA', 'https://m.media-amazon.com/images/M/MV5BODRmZDVmNzUtZDA4ZC00NjhkLWI2M2UtN2M0ZDIzNDcxYThjL2ltYWdlXkEyXkFqcGdeQXVyNTk0MzMzODA@._V1_FMjpg_UX1000_.jpg', 2016, 106),
('One Piece Film: Red', 'Pela primeira vez, Uta, a cantora mais amada do mundo, se revelará ao mundo inteiro em um show ao vivo. A voz que o mundo inteiro estava esperando está prestes a soar.', 'OURO', 'https://m.media-amazon.com/images/M/MV5BODY4OWM5M2UtM2Y1Yi00YjAyLTlhMDktMDkzZjFmMjI5MmI5XkEyXkFqcGdeQXVyMTA1NjQyNjkw._V1_FMjpg_UX1000_.jpg', 2022, 115),
('DanMachi: A Flecha de Orion', 'Bell Cranel goes to a festival in the city where he enters a contest to pick up a legendary spear. Pretty soon, he embarks on a quest with the Goddess of the Hunt, to eliminate an ancient threat that lurks outside the city.', 'BRONZE', 'https://m.media-amazon.com/images/M/MV5BMmVhYTM2ZWUtNWFmYi00ZjI0LWJkZTQtZWEwYzQwODU4ZDY5XkEyXkFqcGdeQXVyMzgxODM4NjM@._V1_.jpg', 2019, 82),
('The Last Naruto: O Filme', 'A irmã mais nova de Hinata Hyuga foi sequestrada, então Naruto deve fazer o possível para salvá-la.', 'OURO', 'https://m.media-amazon.com/images/M/MV5BMjk1NzA4Njg4Ml5BMl5BanBnXkFtZTgwMDgxODQ5MzE@._V1_FMjpg_UX1000_.jpg', 2009, 112),
('Dragon Ball Super: Broly', 'Goku e Vegeta conhecem Broly, um guerreiro muito diferente de qualquer lutador que enfrentaram antes.', 'OURO', 'https://m.media-amazon.com/images/M/MV5BYmZjNDYxNzEtNTk0Zi00YjJjLWIzMjctMjQwZDhjMDM2NzEzXkEyXkFqcGdeQXVyMTA4NjE0NjEy._V1_.jpg', 2009, 100),
('Fate Stay Night: Heaven''s Feel - III. Spring Song', 'The final chapter in the Heaven''s Feel trilogy. Angra Mainyu has successfully possessed his vessel Sakura Matou. Its up to Rin, Shirou, and Rider to cleanse the grail or it will be the end of the world and magecraft as we all know it.', 'PRATA', 'https://m.media-amazon.com/images/M/MV5BYTg3MmY5MzMtNTdjYS00ZWU2LWI2ODUtOGRmZDRkMzk3MjE4XkEyXkFqcGdeQXVyMTIzNDg4NTk0._V1_FMjpg_UX1000_.jpg', 2020, 120),
('Demon Slayer: Mugen Train - O Filme', 'Tanjiro Kamado, junto com Inosuke Hashibira e Zenitsu Agatsuma embarcam no Trem do Infinito em uma nova missão com o Pilar de Fogo, Kyojuro Rengoku, para derrotar um demônio que tem atormentado as pessoas.', 'BRONZE', 'https://m.media-amazon.com/images/M/MV5BODI2NjdlYWItMTE1ZC00YzI2LTlhZGQtNzE3NzA4MWM0ODYzXkEyXkFqcGdeQXVyNjU1OTg4OTM@._V1_FMjpg_UX1000_.jpg', 2020, 117),
('A Voz do Silêncio', 'Um jovem é excluído por seus colegas depois de intimidar uma menina surda ao ponto de mudar de escola. Anos depois, ele parte para o caminho da redenção.', 'OURO', 'https://m.media-amazon.com/images/M/MV5BZGRkOGMxYTUtZTBhYS00NzI3LWEzMDQtOWRhMmNjNjJjMzM4XkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_FMjpg_UX1000_.jpg', 2016, 130),
('Avatar', 'Um militar paraplégico despachado para a lua Pandora em uma missão única fica dividido entre seguir suas ordens e proteger o mundo que ele sente ser sua casa.', 'OURO', 'https://m.media-amazon.com/images/M/MV5BZDA0OGQxNTItMDZkMC00N2UyLTg3MzMtYTJmNjg3Nzk5MzRiXkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_FMjpg_UX1000_.jpg', 2009, 162)
```
